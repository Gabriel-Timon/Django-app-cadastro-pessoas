{% extends 'pessoas/base.html' %}
{% block content %}
  <div class="glass-panel p-4 p-md-5">
    <div class="d-flex flex-column flex-md-row justify-content-between gap-2 mb-3">
      <div>
        <h1 class="h3 mb-1">{{ page_title }}</h1>
        <div class="text-white-50">Editando: {{ pessoa.nome }} {{ pessoa.sobrenome }} • CPF {{ pessoa.cpf_formatado }}</div>
      </div>
      <a class="btn btn-outline-light" href="{% url 'pessoas:pessoa_edicao_menu' pessoa.pk %}">
        <i class="bi bi-arrow-left me-1"></i>Voltar
      </a>
    </div>

    <form method="post" class="row g-3">
      {% csrf_token %}
      {% for field in form %}
        <div class="col-md-6">
          <label class="form-label">{{ field.label }}</label>
          {{ field }}
          {% for err in field.errors %}<div class="text-danger small mt-1">{{ err }}</div>{% endfor %}
        </div>
      {% endfor %}

      {% if form.non_field_errors %}
        <div class="col-12">
          {% for err in form.non_field_errors %}<div class="alert alert-danger">{{ err }}</div>{% endfor %}
        </div>
      {% endif %}

      <div class="col-12 d-flex gap-2 flex-wrap">
        <button class="btn btn-light" type="submit"><i class="bi bi-check2-circle me-1"></i>{{ submit_label }}</button>
        <a class="btn btn-outline-light" href="{% url 'pessoas:pessoa_detail' pessoa.pk %}"><i class="bi bi-x-circle me-1"></i>Cancelar operação</a>
      </div>
    </form>
  </div>
{% endblock %}
